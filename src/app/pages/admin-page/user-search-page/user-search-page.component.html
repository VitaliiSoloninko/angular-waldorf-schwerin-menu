<div>
  <h3 class="h2 center mt16 mb16"><span>Suchen</span> nach Kunden</h3>
</div>

<form [formGroup]="searchForm">
  <div class="form">
    <div class="controls search-controls">
      <div class="control last-name">
        <label for="last-name">Nachname Eltern</label>
        <input
          type="text"
          name="last-name"
          class="form-control"
          id="txtLastName"
          formControlName="lastName"
        />
      </div>

      <div class="control first-name">
        <label for="first-name">Vorname Eltern</label>
        <input
          type="text"
          name="first-name"
          class="form-control"
          id="txtFirstName"
          formControlName="firstName"
        />
      </div>

      <div class="control">
        <label for="last-name-child">Nachname des Kindes</label>
        <input
          type="text"
          name="last-name"
          class="form-control"
          id="txtLastNameChild"
          formControlName="lastNameChild"
        />
      </div>

      <div class="control">
        <label for="first-name">Vorname des Kindes</label>
        <input
          type="text"
          name="first-name-child"
          class="form-control"
          id="txtFirstNameChild"
          formControlName="firstNameChild"
        />
      </div>

      <div class="control">
        <label for="email">E-Mail</label>
        <input
          type="email"
          name="email"
          class="form-control"
          id="txtEmail"
          formControlName="email"
        />
      </div>

      <!-- <div class="control">
        <label for="first-name">Klasse</label>
        <input type="text" name="class" class="form-control" id="txtClass" />
      </div> -->
    </div>
  </div>
</form>

<div class="table-body">
  <table class="table" *ngIf="users.length > 0">
    <thead>
      <tr>
        <th scope="col">Nachname</th>
        <th scope="col">Vorname</th>
        <th scope="col">Kunden №</th>
        <th scope="col">Kinder</th>
        <th scope="col">Daten</th>
        <th scope="col">Klasse</th>
        <th scope="col">PDF</th>
        <th scope="col">Bearbeiten</th>
        <th scope="col">Löschen</th>
        <th scope="col">Email</th>
      </tr>
    </thead>
    <tbody>
      @for (user of users; track $index) {
      <tr>
        <td>{{ user.lastName }}</td>
        <td>{{ user.firstName }}</td>
        <td class="center">{{ user.id }}</td>
        <td>{{ user.lastNameChild }}</td>
        <td>{{ user.firstNameChild }}</td>
        <td class="center">{{ user.class }} {{ user.letter }}</td>
        <td class="center">
          <button type="button" (click)="user && goToUserMonthOrders(user.id)">
            <lucide-icon
              [img]="fileText"
              color="var(--main-color)"
              [size]="18"
              class="my-icon"
            ></lucide-icon>
          </button>
        </td>
        <td class="center">
          <button type="button" (click)="editUser(user.id)">
            <lucide-icon
              [img]="pencil"
              color="var(--dark-color)"
              [size]="18"
              class="my-icon"
            ></lucide-icon>
          </button>
        </td>
        <td class="center">
          <button type="button" (click)="removeUser(user.id)">
            <lucide-icon
              [img]="trash2"
              color="var(--red-color)"
              [size]="18"
              class="my-icon"
            ></lucide-icon>
          </button>
        </td>
        <td>{{ user.email }}</td>
      </tr>
      }
    </tbody>
  </table>
</div>

<div class="center mt16 mb16">
  <div *ngIf="error" class="error red">{{ error }}</div>
</div>
